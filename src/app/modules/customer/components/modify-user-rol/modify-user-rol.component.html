
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Modificar Roles de Usuario</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modalService.dismissAll()"></button>
    </div>
    <div class="modal-body" data-backdrop="static">

        <form #userRolForm="ngForm" data-backdrop="static">

            <div class="form-group" >
                <label for="username">Usuario</label>
                <div class="input-group">
                    <input type="text" class="form-control" name="userName" id="userName" [(ngModel)]="userName" readonly>
                    <!-- <span [ngClass]="userExist ? 'verde' : 'rojo'">
                    {{ userExist ? '✔' : '✘' }}
                    </span> -->
                </div>
            </div>
            <br>
            <div class="form-group" *ngIf="!readonly">
                <label for="selectedRole">Asignar Nuevo Rol</label>
                <select class="form-control" name="selectedRole" id="selectedRole" [(ngModel)]="selectedRole" readonly>
                    <ng-container *ngIf="unassignedRoles.length; else noRoles">
                        <option *ngFor="let role of unassignedRoles" [ngValue]="role">{{ role.name }}</option>
                    </ng-container>
                    <ng-template #noRoles>
                        <option disabled>No hay roles por asignar</option>
                    </ng-template>
                </select>
                <br>
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button class="btn btn-primary me-md-2" (click)="addRole()">Agregar</button>
                </div>
            </div>
            <hr>
            <div>
                <h4>Roles Asignados:</h4>
                <ul> 
                    <li *ngFor="let role of user?.roles" [value]="role">
                        <a class="text-center" (click)="deleteRole(role)" ><span class="material-symbols-outlined" style="color:red;">
                            cancel
                          </span></a>
                        {{ role.name }}
                    </li>
                </ul>
                <p *ngIf="user?.roles?.length === 0">Sin roles asignados.</p>
            </div>

            <div class="modal-footer right-form-buttons">
                <button type="button" class="btn btn-secondary" (click)="onCancelar()">Cancelar</button>
                <button type="button" class="btn btn-primary" [disabled]="!userRolForm.valid" (click)="onSubmitForm(userRolForm)">Editar</button>
            </div>

        </form>

    </div>

<hr />