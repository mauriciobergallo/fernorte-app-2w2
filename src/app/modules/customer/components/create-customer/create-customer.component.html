<div class="modal-header">
	<h4 class="modal-title" id="modal-basic-title">Registrar Cliente</h4>
	<button type="button" class="btn-close" aria-label="Close" (click)="closeForm()"></button>
</div>
<div class="modal-body">
	<form [formGroup]="customerForm" (ngSubmit)="onSubmitForm()">

		<div>
			<div class="form-check">
				<input class="form-check-input" type="radio" formControlName="customerType" value="Fisica"
					id="flexRadioDefault1" (click)="onChangeCompany(false)">
				<label class="form-check-label" for="flexRadioDefault1">Persona</label>
			</div>
			<div class="form-check">
				<input class="form-check-input" type="radio" formControlName="customerType" value="Juridica"
					id="flexRadioDefault2" (click)="onChangeCompany(true)">
				<label class="form-check-label" for="flexRadioDefault2">Empresa</label>
			</div>
			<div class="text-danger" *ngIf="!isTypeChecked">Seleccione el tipo del cliente</div>
		</div>

		<div *ngIf="!isCompany">
			<div class="mb-3 d-flex">
				<div class="flex-grow-1 me-2">
					<label for="name">Nombre</label>
					<input formControlName="firstName" type="text" name="name" id="name" class="form-control" />
				</div>
				<div class="flex-grow-1">
					<label for="lastName">Apellido</label>
					<input formControlName="lastName" type="text" name="lastName" id="lastName" class="form-control" />
				</div>
			</div>
		</div>

		<div *ngIf="isCompany">
			<div class="mb-3 d-flex">
				<div class="flex-grow-1 me-2">
					<label for="name">Nombre de Empresa</label>
					<input formControlName="companyName" type="text" name="companyName" id="companyName"
						class="form-control" />
				</div>
			</div>
		</div>

		<div class="mb-3 d-flex">
			<div class="flex-grow-1 me-2">
				<label for="idDocumentType">Tipo de documento</label>
				<select formControlName="idDocumentType" id="idDocumentType" class="form-select">
					<option *ngIf="customerForm.value.customerType == 'Fisica'" value="1">DNI</option>
					<option *ngIf="customerForm.value.customerType == 'Fisica'" value="2">Pasaporte</option>
					<option *ngIf="customerForm.value.customerType == 'Juridica'" value="3">CUIT</option>
					<option *ngIf="customerForm.value.customerType == 'Fisica'" value="4">CUIL</option>
					<option *ngIf="customerForm.value.customerType == 'Fisica'" value="5">LC</option>
					<option *ngIf="customerForm.value.customerType == 'Fisica'" value="6">LE</option>
				</select>
				<!-- <div class="text-danger" *ngIf="controlDocumentType.invalid">Seleccione un tipo de documento</div> -->
			</div>
			<div class="flex-grow-1">
				<label for="documentNumber">Documento</label>
				<input formControlName="documentNumber" type="text" name="documentNumber" id="documentNumber"
					class="form-control" />
				<div class="text-danger"
					*ngIf="customerForm.get('documentNumber')?.invalid && customerForm.get('documentNumber')?.touched">
					Ingrese numero de documento de cliente</div>
			</div>
		</div>

		<div class="flex-grow-1 me-2">
			<label for="ivaCondition">Condición de IVA</label>
			<select formControlName="ivaCondition" id="ivaCondition" class="form-select" required>
				<option value="Monotributo">Monotributo</option>
				<option value="Responsable Inscripto">Responsable Inscripto</option>
			</select>
			<div class="text-danger" *ngIf="customerForm.get('ivaCondition')?.invalid">Seleccione condicion de IVA</div>
		</div>

		<div class="mb-3">
			<label for="dateOfBirth">Fecha de nacimiento</label>
			<div class="input-group">
				<input formControlName="birthDate" (ngModelChange)="onBirthDateChange($event)" id="dateOfBirth"
					class="form-control" placeholder="dd/mm/yyyy" name="dp" ngbDatepicker #dp="ngbDatepicker"
					[minDate]="maxDate" [maxDate]="minDate" />
				<button class="btn btn-outline-secondary bi bi-calendar3" (click)="dp.toggle()"
					type="button"></button><br>
				<!-- <div class="text-danger" *ngIf="controlBirthDate.invalid && controlBirthDate.touched">Ingrese una fecha de nacimiento</div> -->
			</div>
		</div>

		<div class="flex-grow-1">
			<label for="email">Email Personal</label>
			<input formControlName="email" type="email" name="email" id="email" class="form-control" required />
			<div class="text-danger" *ngIf="customerForm.get('email')?.invalid && customerForm.get('email')?.touched">
				Ingrese el mail del cliente</div>
		</div>

		<div class="mb-3 d-flex">
			<div class="flex-grow-1 me-2">
				<label for="address">Domicilio</label>
				<input formControlName="address" type="text" name="address" id="address" class="form-control"
					required />
				<div class="text-danger"
					*ngIf="customerForm.get('address')?.invalid && customerForm.get('address')?.touched">Ingrese la
					direccion del cliente</div>
			</div>
			<div class="flex-grow-1">
				<label for="phoneNumber">Número de teléfono</label>
				<input formControlName="phoneNumber" type="number" name="phoneNumber" id="phoneNumber"
					class="form-control" required />
				<div class="text-danger"
					*ngIf="customerForm.get('phoneNumber')?.invalid && customerForm.get('phoneNumber')?.touched">Ingrese
					el numero de telefono del cliente </div>
			</div>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-outline-secondary mt-3"
				(click)="showCancelConfirmation()">Cancelar</button>
			<button type="button" class="btn btn-outline-primary mt-3" (click)="showConfirmation()">Registrar</button>
		</div>

	</form>
</div>